import{debounce}from"utils";class ScrollingMarquee extends HTMLElement{constructor(){super(),this.marqueeContainer=this.querySelector(".marquee"),this.marqueeWidth=this.marqueeContainer.offsetWidth,this.marqueeElements=[...this.querySelectorAll(".marquee__content")],this.marqueeSpeed=this.getAttribute("marquee-speed"),this.speedModifier=10,this.speed=this.marqueeSpeed*this.speedModifier,this.resizeObserver=new ResizeObserver(debounce((()=>{this.setMarqueeSpeed()})),50)}connectedCallback(){this.observeMarquee(),this.setMarqueeSpeed()}observeMarquee(){this.resizeObserver.observe(this.marqueeContainer)}setMarqueeSpeed(){const e=window.getComputedStyle(this.marqueeContainer),t=parseInt(e.getPropertyValue("column-gap"),10),{speed:s}=this;this.marqueeElements.forEach((e=>{const r=(e.offsetWidth+t)/s;e.style.animationDuration=`${r}s`}))}}customElements.define("scrolling-marquee",ScrollingMarquee);
//# sourceMappingURL=scrolling-marquee.js.map
